{"version":3,"sources":["webpack:///./src/views/UserPost.vue?7fb7","webpack:///./src/views/UserPost.vue?c038","webpack:///src/views/UserPost.vue","webpack:///./src/views/UserPost.vue?7db5","webpack:///./src/views/UserPost.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","class","success","_v","_s","messenge","_e","attrs","model","value","post","callback","$$v","$set","expression","trim","user","on","save","edit","staticRenderFns","data","addnew","showMessenge","computed","methods","title","body","userId","userLogin","id","$store","alert","beforeDestroy","clearTimeout","watch","$route","console","log","$router","go","component"],"mappings":"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","file":"js/chunk-4eef20e6.f07f51ab.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPost.vue?vue&type=style&index=0&id=09af3cdd&lang=postcss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-user-post\"},[_c('div',{staticClass:\"container mx-auto\"},[_vm._m(0),_c('div',{staticClass:\"clearfix\"},[(_vm.messenge)?_c('div',{staticClass:\"px-4 py-3 rounded mb-5\",class:{'bg-green-200 text-dark' : _vm.success}},[_c('p',{staticClass:\"font-bold\"},[_vm._v(_vm._s(_vm.messenge))]),_c('hr',{staticClass:\"bg-white my-2 border-white\"}),_vm._m(1)]):_vm._e(),_c('div',{staticClass:\"mt-5 md:mt-0 md:col-span-2\"},[_c('form',{staticClass:\"bg-gray-100 bg-opacity-5 rounded-md pb-5\"},[_c('BaseInput',{attrs:{\"type\":\"hidden\",\"disabled\":\"\"},model:{value:(_vm.post.id),callback:function ($$v) {_vm.$set(_vm.post, \"id\", $$v)},expression:\"post.id\"}}),_c('div',{staticClass:\"px-4 py-5 space-y-6 sm:p-6\"},[_c('div',[_c('label',{attrs:{\"for\":\"title\"}},[_vm._v(\"Tiêu đề\")]),_c('div',{staticClass:\"mt-1\"},[_c('BaseInput',{staticClass:\"bg-transparent\",attrs:{\"id\":\"title\",\"name\":\"title\",\"placeholder\":\"Nhập vào tiêu đề\"},model:{value:(_vm.post.title),callback:function ($$v) {_vm.$set(_vm.post, \"title\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"post.title\"}})],1)]),_c('div',[_c('label',{attrs:{\"for\":\"body\"}},[_vm._v(\"Nội dung\")]),_c('div',{staticClass:\"mt-1\"},[_c('BaseTextarea',{staticClass:\"bg-transparent\",attrs:{\"name\":\"body\",\"id\":\"body\",\"rows\":\"15\",\"placeholder\":\"Nhập vào nội dung\"},model:{value:(_vm.post.body),callback:function ($$v) {_vm.$set(_vm.post, \"body\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"post.body\"}})],1)]),(_vm.post.user)?_c('div',[_c('label',{attrs:{\"for\":\"user_name\"}},[_vm._v(\"Tác giả\")]),_c('div',{staticClass:\"mt-1\"},[_c('BaseInput',{attrs:{\"disabled\":\"\"},model:{value:(_vm.post.user.name),callback:function ($$v) {_vm.$set(_vm.post.user, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"post.user.name\"}}),_c('BaseInput',{attrs:{\"type\":\"hidden\"},model:{value:(_vm.post.user.id),callback:function ($$v) {_vm.$set(_vm.post.user, \"id\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"post.user.id\"}})],1)]):_vm._e()]),_c('div',{staticClass:\"px-4 py-3 text-center sm:px-6\"},[(_vm.addnew)?_c('div',[_c('button',{staticClass:\"btn btn-save\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.save}},[_vm._v(\"lưu lại\")])]):_c('div',[_c('button',{staticClass:\"btn btn-edit\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.edit}},[_vm._v(\"Cập nhật\")])])])],1)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mb-6\"},[_c('h2',{staticClass:\"text-2xl font-bold pb-2 mb-5 border-b\"},[_vm._v(\"Thêm mới bài viết\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"text-sm\"},[_c('span',{staticClass:\"font-bold\"},[_vm._v(\"Important:\")]),_vm._v(\" resource will not be really updated on the server but it will be faked as if.\")])}]\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  .page-user-post\n    .container.mx-auto\n      .mb-6\n        h2.text-2xl.font-bold.pb-2.mb-5.border-b\n          | Thêm mới bài viết\n      .clearfix\n        div.px-4.py-3.rounded.mb-5(\n          v-if=\"messenge\" \n          :class=\"{'bg-green-200 text-dark' : success}\"\n        ) \n          p.font-bold\n            | {{ messenge }}\n          hr.bg-white.my-2.border-white\n          p.text-sm <span class=\"font-bold\">Important:</span> resource will not be really updated on the server but it will be faked as if.\n        .mt-5(class='md:mt-0 md:col-span-2')\n          form.bg-gray-100.bg-opacity-5.rounded-md.pb-5\n            BaseInput(\n              type='hidden' \n              disabled\n              v-model=\"post.id\"\n            )\n            .px-4.py-5.space-y-6(class='sm:p-6')\n              div\n                label(for='title')\n                  | Tiêu đề\n                .mt-1\n                  BaseInput(\n                    class=\"bg-transparent\"\n                    id=\"title\" \n                    name='title' \n                    placeholder='Nhập vào tiêu đề' \n                    v-model.trim=\"post.title\"\n                  )\n              div\n                label(for='body')\n                  | Nội dung\n                .mt-1\n                  BaseTextarea(\n                    class=\"bg-transparent\"\n                    name='body' \n                    id=\"body\" \n                    rows='15' \n                    placeholder='Nhập vào nội dung' \n                    v-model.trim=\"post.body\"\n                  )\n              div(v-if=\"post.user\")\n                label(for='user_name')\n                  | Tác giả\n                .mt-1\n                  BaseInput(\n                    v-model.lazy.trim=\"post.user.name\"\n                    disabled\n                  )\n                  BaseInput(\n                    type='hidden' \n                    v-model.lazy.trim=\"post.user.id\"\n                  )\n            .px-4.py-3.text-center(class='sm:px-6')\n              div(v-if=\"addnew\")\n                button.btn.btn-save(type='button' @click=\"save\") lưu lại\n              div(v-else)\n                button.btn.btn-edit(type='button' @click=\"edit\") Cập nhật\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nexport default {\n  data() {\n    return {\n      addnew: true,\n      post: {},\n      success: \"\",\n      messenge: \"\",\n      showMessenge: null,\n    };\n  },\n  async created() {\n    let _this = this;\n    await _this.$store\n      .dispatch(\"fetchPostById\", _this.$route.params.id)\n      .then((response) => {\n        _this.post = response;\n        _this.addnew = false;\n      })\n      .catch(() => {\n        _this.post = {\n          userId: null,\n          id: null,\n          title: \"\",\n          body: \"\",\n          user: {\n            id: this.userLogin.id,\n            name: this.userLogin.name,\n          },\n        };\n        _this.addnew = true;\n      });\n  },\n  computed: {\n    ...mapState([\"userLogin\"]),\n  },\n  methods: {\n    save() {\n      if (this.post.title && this.post.body) {\n        let post = {\n          title: this.post.title,\n          body: this.post.body,\n          userId: this.userLogin.id,\n        };\n        this.$store\n          .dispatch(\"creatingPost\", post)\n          .then((response) => {\n            this.messenge = \"Bạn đã thêm thành công.\";\n            this.success = true;\n            console.table(response);\n            let _this = this;\n            this.showMessenge = setTimeout(function () {\n              _this.messenge = \"\";\n              _this.success = \"\";\n            }, 3000);\n          })\n          .catch(() => {\n            this.messenge = \"Thêm thất bại\";\n          });\n      } else {\n        alert(\"Bạn chưa nhập đủ nội dung\");\n      }\n    },\n    edit() {\n      if (this.post.title && this.post.body) {\n        let post = {\n          title: this.post.title,\n          body: this.post.body,\n        };\n        this.$store\n          .dispatch(\"updatingPost\", this.post.id, post)\n          .then((response) => {\n            this.messenge = \"Bạn đã cập nhật bài viết thành công.\";\n            this.success = true;\n            console.table(response);\n            let _this = this;\n            this.showMessenge = setTimeout(function () {\n              _this.messenge = \"\";\n              _this.success = \"\";\n            }, 3000);\n          })\n          .catch(() => {\n            this.messenge = \"Cập nhật thất bại\";\n          });\n      } else {\n        alert(\"Bạn chưa nhập đủ nội dung\");\n      }\n    },\n  },\n  beforeDestroy() {\n    clearTimeout(this.showMessenge);\n  },\n  watch: {\n    $route() {\n      console.log(\"route change\");\n      // this.$forceUpdate();\n      this.$router.go();\n    },\n  },\n};\n</script>\n\n<style lang=\"postcss\" scoped>\nlabel {\n  @apply block text-sm font-medium;\n}\n.input {\n  @apply shadow-sm focus:ring-indigo-500 focus:border-indigo-500 mt-1 block w-full sm:text-sm border border-gray-300 rounded-md px-2 py-2 outline-none;\n}\n.btn {\n  @apply inline-flex justify-center py-2 px-10 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 uppercase hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 outline-none;\n}\n.btn.btn-save {\n  @apply bg-green-500;\n}\n.btn.btn-edit {\n  @apply bg-yellow-500;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPost.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPost.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserPost.vue?vue&type=template&id=09af3cdd&scoped=true&lang=pug&\"\nimport script from \"./UserPost.vue?vue&type=script&lang=js&\"\nexport * from \"./UserPost.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserPost.vue?vue&type=style&index=0&id=09af3cdd&lang=postcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09af3cdd\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}