(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4eef20e6"],{3775:function(t,e,s){},c94a:function(t,e,s){"use strict";s("3775")},e1c2:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-user-post"},[s("div",{staticClass:"container mx-auto"},[t._m(0),s("div",{staticClass:"clearfix"},[t.messenge?s("div",{staticClass:"px-4 py-3 rounded mb-5",class:{"bg-green-200 text-dark":t.success}},[s("p",{staticClass:"font-bold"},[t._v(t._s(t.messenge))]),s("hr",{staticClass:"bg-white my-2 border-white"}),t._m(1)]):t._e(),s("div",{staticClass:"mt-5 md:mt-0 md:col-span-2"},[s("form",{staticClass:"bg-gray-100 bg-opacity-5 rounded-md pb-5"},[s("BaseInput",{attrs:{type:"hidden",disabled:""},model:{value:t.post.id,callback:function(e){t.$set(t.post,"id",e)},expression:"post.id"}}),s("div",{staticClass:"px-4 py-5 space-y-6 sm:p-6"},[s("div",[s("label",{attrs:{for:"title"}},[t._v("Tiêu đề")]),s("div",{staticClass:"mt-1"},[s("BaseInput",{staticClass:"bg-transparent",attrs:{id:"title",name:"title",placeholder:"Nhập vào tiêu đề"},model:{value:t.post.title,callback:function(e){t.$set(t.post,"title","string"===typeof e?e.trim():e)},expression:"post.title"}})],1)]),s("div",[s("label",{attrs:{for:"body"}},[t._v("Nội dung")]),s("div",{staticClass:"mt-1"},[s("BaseTextarea",{staticClass:"bg-transparent",attrs:{name:"body",id:"body",rows:"15",placeholder:"Nhập vào nội dung"},model:{value:t.post.body,callback:function(e){t.$set(t.post,"body","string"===typeof e?e.trim():e)},expression:"post.body"}})],1)]),t.post.user?s("div",[s("label",{attrs:{for:"user_name"}},[t._v("Tác giả")]),s("div",{staticClass:"mt-1"},[s("BaseInput",{attrs:{disabled:""},model:{value:t.post.user.name,callback:function(e){t.$set(t.post.user,"name","string"===typeof e?e.trim():e)},expression:"post.user.name"}}),s("BaseInput",{attrs:{type:"hidden"},model:{value:t.post.user.id,callback:function(e){t.$set(t.post.user,"id","string"===typeof e?e.trim():e)},expression:"post.user.id"}})],1)]):t._e()]),s("div",{staticClass:"px-4 py-3 text-center sm:px-6"},[t.addnew?s("div",[s("button",{staticClass:"btn btn-save",attrs:{type:"button"},on:{click:t.save}},[t._v("lưu lại")])]):s("div",[s("button",{staticClass:"btn btn-edit",attrs:{type:"button"},on:{click:t.edit}},[t._v("Cập nhật")])])])],1)])])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mb-6"},[s("h2",{staticClass:"text-2xl font-bold pb-2 mb-5 border-b"},[t._v("Thêm mới bài viết")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"text-sm"},[s("span",{staticClass:"font-bold"},[t._v("Important:")]),t._v(" resource will not be really updated on the server but it will be faked as if.")])}],a=s("5530"),o=s("1da1"),c=(s("96cf"),s("b0c0"),s("2f62")),r={data:function(){return{addnew:!0,post:{},success:"",messenge:"",showMessenge:null}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t,e.next=3,s.$store.dispatch("fetchPostById",s.$route.params.id).then((function(t){s.post=t,s.addnew=!1})).catch((function(){s.post={userId:null,id:null,title:"",body:"",user:{id:t.userLogin.id,name:t.userLogin.name}},s.addnew=!0}));case 3:case"end":return e.stop()}}),e)})))()},computed:Object(a["a"])({},Object(c["e"])(["userLogin"])),methods:{save:function(){var t=this;if(this.post.title&&this.post.body){var e={title:this.post.title,body:this.post.body,userId:this.userLogin.id};this.$store.dispatch("creatingPost",e).then((function(e){t.messenge="Bạn đã thêm thành công.",t.success=!0,console.table(e);var s=t;t.showMessenge=setTimeout((function(){s.messenge="",s.success=""}),3e3)})).catch((function(){t.messenge="Thêm thất bại"}))}else alert("Bạn chưa nhập đủ nội dung")},edit:function(){var t=this;if(this.post.title&&this.post.body){var e={title:this.post.title,body:this.post.body};this.$store.dispatch("updatingPost",this.post.id,e).then((function(e){t.messenge="Bạn đã cập nhật bài viết thành công.",t.success=!0,console.table(e);var s=t;t.showMessenge=setTimeout((function(){s.messenge="",s.success=""}),3e3)})).catch((function(){t.messenge="Cập nhật thất bại"}))}else alert("Bạn chưa nhập đủ nội dung")}},beforeDestroy:function(){clearTimeout(this.showMessenge)},watch:{$route:function(){console.log("route change"),this.$router.go()}}},l=r,d=(s("c94a"),s("2877")),u=Object(d["a"])(l,n,i,!1,null,"09af3cdd",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-4eef20e6.f07f51ab.js.map